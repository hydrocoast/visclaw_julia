# VisClaw with Julia
This repository aims to become one of the Clawpack visualization tools (see http://www.clawpack.org).  
This allows us to make animations with the Julia language.   
Please contact the author if you find a bug.  

<p align="center">
<img src="https://github.com/hydrocoast/visclaw_julia/blob/master/fig/sample/ike.gif", width="500">
</p>  

# Requirements
## Julia Packages
- [Julia](https://github.com/JuliaLang/julia) v1.0.0
- [Plots.jl](https://github.com/JuliaPlots/Plots.jl)
- [PyPlot.jl](https://github.com/JuliaPy/PyPlot.jl)
- [GMT.jl](https://github.com/GenericMappingTools/GMT.jl)

## Other Softwares  
- [GMT](https://github.com/GenericMappingTools/gmt) (Generic Mapping Tools)  

In order to convert files, the following applications are required.  
- ImageMagick (convert)
- ffmpeg

# Usage Examples
In preparation, set a variable `CLAW` in `src/CLAWPATH.jl`  
```julia
CLAW="../clawpack" # path to your clawpack directory
```
This process can be neglected when your OS is Linux.

## GMT.jl
Execute the following scripts in Julia REPL after the simulation of chile2010 (GeoClaw example) is done.  
```julia
include("topo_GMT.jl")
include("watersurface_GMT.jl")
```
<p align="center">
<img src="https://github.com/hydrocoast/visclaw_julia/blob/master/fig/sample/chile_topo.png", width="400">
<img src="https://github.com/hydrocoast/visclaw_julia/blob/master/fig/sample/chile.gif", width="400">
</p>  

Detailed figure configurations are described in `ex_conf/conf_topo_chile.jl` and `ex_conf/conf_surf_chile.jl`.  
You can make figures which meet your requirements by editing these `conf_*.jl` files.  


## Plots.jl
Plotting with the Plots.jl is available even in the condition that GMT.jl doesn't work.   
Here are some examples generated by `gauge_Plots.jl` and `watersurface_Plots.jl`.  

- Hurricane Ike in 2008 (`$CLAW/geoclaw/examples/storm-surge/ike`)  
<p align="center">
<img src="https://github.com/hydrocoast/visclaw_julia/blob/master/fig/sample/ikeplots.gif", width="400">
<img src="https://github.com/hydrocoast/visclaw_julia/blob/master/fig/sample/ike_gaugeplots.svg", width="400">
</p>  

- Chilean tsunami in 2010 (`$CLAW/geoclaw/examples/tsunami/chile2010`)  
<p align="center">
<img src="https://github.com/hydrocoast/visclaw_julia/blob/master/fig/sample/chile_gaugeplots.svg", width="500">
</p>  

# License
BSD 3-Clause  

# Author
Takuya Miyashita   
miyashita(at)hydrocoast.jp  
Doctoral student, Kyoto University  
([personal web site](https://hydrocoast.jp))  
